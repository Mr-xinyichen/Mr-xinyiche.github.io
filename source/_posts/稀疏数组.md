---
layout: posts
title: 稀疏数组
date: 2020-04-26 16:02:00
updated: 2020-04-26 16:13:19
tags: 
categories: 
 - 数据结构
---
```java
/**
 * @author cxy
 * 使用稀疏数组记录棋盘状态
 *  稀疏数组说明：
 *      需要申明一个二维数组: array[count+1][3]
 *      第一行第一列：原始数组的总行数 第二列：原始数组的总列数 第三列：原始数组有效数据的总数(count)
 *      第二行第一列：数据在原始数组的行数 第二列：数据在原始数组中的列数 第三行：数据的值
 *      。。。。。。
 *  数组元素值说明：
 *          0：无子 1：黑子 2：白子
 */
public class SparseArray {
    public static void main(String[] args) {
        //创建一个11*11的棋盘
        int[][] chessArr1 = new int[11][11];

        //模拟棋盘状态
        chessArr1[1][2] = 1;
        chessArr1[2][3] = 2;
        chessArr1[2][5] = 2;
        chessArr1[5][2] = 1;

        //记录棋盘中元素的个数
        int count = 0;

        //遍历棋盘获取棋子个数 并打印原始棋盘
        System.out.println("原始棋盘状态：");
        for (int[] row : chessArr1){
            for (int data : row){
                if(data!=0){
                    count++;
                }
                System.out.printf("%d\t", data);
            }
            System.out.println();
        }

        //创建稀疏数组 一个有count个元素需要记录 但是第一行要用来记录原始数组 所以是count+1
        int[][] sparsearr = new int[count+1][3];
        //第一行第一列记录原始数组的行数
        sparsearr[0][0] = chessArr1.length;
        //第一行第二列记录原始数组的列数
        sparsearr[0][1] = chessArr1[0].length;
        //第一行第三列记录原始数组的有效数据数
        sparsearr[0][2] = count;
        //记录要操作的行数 从第二行开始填充数据
        int row = 1;
        //填充稀疏数组
        for (int i = 0; i < chessArr1.length; i++) {
            for (int j = 0; j < chessArr1[0].length; j++) {
                if (chessArr1[i][j] != 0){
                    sparsearr[row][0] = i;
                    sparsearr[row][1] = j;
                    sparsearr[row][2] = chessArr1[i][j];
                    row++;
                }
            }
        }

        //打印稀疏数组
        System.out.println("稀疏数组：");
        for (int[] arr : sparsearr){
            for (int data : arr){
                System.out.printf("%d\t", data);
            }
            System.out.println();
        }
        
        //还原数组 获取行数和列数
        //稀疏数组第一行记录了原始棋盘的行数和列数
        int[][] chees =
                new int[sparsearr[0][0]][sparsearr[0][1]];

        //从稀疏数组的第二行开始读取并填充数据
        for (int i = 1; i < sparsearr.length; i++) {
//            int yw = 0;
//            int ew = 0;
//            int data = 0;
//            for (int j = 0; j < sprasearr[0].length; j++) {
//                if (j==0){
//                    //有数据的一维坐标
//                    yw = sprasearr[i][j];
//                }
//                if (j==1){
//                    //有数据的二维坐标
//                    ew = sprasearr[i][j];
//                }
//                if (j==2){
//                    //数据的值
//                    data = sprasearr[i][j];
//                }
//            }
//            chees[yw][ew] = data;
            //以上为通俗的理解
            chees[sparsearr[i][0]][sparsearr[i][1]] =
                    sparsearr[i][2];
        }

        System.out.println("还原之后的棋盘：");
        //原始二维数组
        for (int[] arr : chees){
            for (int data : arr){
                System.out.printf("%d\t", data);
            }
            System.out.println();
        }
    }
}
```

打印：

```java
原始棋盘状态：
0	0	0	0	0	0	0	0	0	0	0	
0	0	1	0	0	0	0	0	0	0	0	
0	0	0	2	0	2	0	0	0	0	0	
0	0	0	0	0	0	0	0	0	0	0	
0	0	0	0	0	0	0	0	0	0	0	
0	0	1	0	0	0	0	0	0	0	0	
0	0	0	0	0	0	0	0	0	0	0	
0	0	0	0	0	0	0	0	0	0	0	
0	0	0	0	0	0	0	0	0	0	0	
0	0	0	0	0	0	0	0	0	0	0	
0	0	0	0	0	0	0	0	0	0	0

稀疏数组：
11      11	4 //原始棋盘为一个11*11的二维数组 总共有4个有效数据
1	2	1 //第二行第三列的值为1.......
2	3	2	
2	5	2	
5	2	1

还原之后的棋盘：
0	0	0	0	0	0	0	0	0	0	0	
0	0	1	0	0	0	0	0	0	0	0	
0	0	0	2	0	2	0	0	0	0	0	
0	0	0	0	0	0	0	0	0	0	0	
0	0	0	0	0	0	0	0	0	0	0	
0	0	1	0	0	0	0	0	0	0	0	
0	0	0	0	0	0	0	0	0	0	0	
0	0	0	0	0	0	0	0	0	0	0	
0	0	0	0	0	0	0	0	0	0	0	
0	0	0	0	0	0	0	0	0	0	0	
0	0	0	0	0	0	0	0	0	0	0	
```