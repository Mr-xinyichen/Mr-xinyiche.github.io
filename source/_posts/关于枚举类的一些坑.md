---
layout: posts
title: 关于枚举类的一些坑
date: 2020-04-23 12:06:05
updated: 2020-04-23 12:06:05
tags: 
categories: 
 - 经验&bug
---
```java
/**
 * @author
 *  枚举类中添加外部访问的方法
 */
public enum Color {

    /**
     * @see
     */
    RED("红色", 1),
    GREEN("绿色", 2),
    BLANK("白色", 3),
    YELLO("黄色", 4);

    private String name;

    private int index;
	
	//此构造函数的修饰符为private 外界无法访问 用于定义枚举元素内部的属性
    Color(String name, int index) {
        this.name = name;
        this.index = index;
    }

    /**
     * 对外提供一个get函数
     * @param index
     * @return
     */
    public static String getName(int index){
        for(Color c : Color.values()){
            if (c.getIndex() == index){
                return c.name;
            }
        }
        return null;
    }

    /**
     * 对外提供一个set函数 无法对枚举元素进行修改
     * @param index
     * @return
     */
    public static void set(int index,String name){
        for(Color c : Color.values()){
            if (c.getIndex() == index){
                c.name = name;
            }
        }
    }

	//这里的public一点用都没有，因为枚举类不支持实例化，所以外界无法访问
    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public int getIndex() {
        return index;
    }

    public void setIndex(int index) {
        this.index = index;
    }

	/**
	*这里会提示错误 Invalid test class 'com.....Color':
	*	原因是 Enum 不支持public和protected修饰符的构造方法
    @Test
    public void test(){
        String name = Color.getName(1);
        System.out.println(name);
    }

    public static void main(String[] args) {
		//只修改了枚举元素中的值 对枚举元素不起作用
		//RED("hhhhh",1) 内部的值变化了 但RED还是那个RED
        Color.set(1,"hhhhh");
        String name = Color.getName(1);
        System.out.println(name);
    }
}
```
